#!/bin/bash

# Run this script with super user privileges since it requires it to read *credentials* file containing sensitive information
# remove report file
rm report

echo "Current Directory ->"
echo `pwd`
init_time=`date +%s`
make -j > report 2>&1 # 2>&1 redirects stderr to stdout written to report
end_time=`date +%s`


diff=$(( $end_time-$init_time ))
echo "------------------------------------------------------------------------------------------------------------" >> report
echo "------------------------------------------------------------------------------------------------------------" >> report

echo "TIME TAKEN FOR EXECUTION IN SECONDS" >> report
echo $diff >> report
./pygmail/sendmail -c pygmail/credentials -t "recepient_address@gmail.com" -s autogenerated_python_compiled_script_report -b report
