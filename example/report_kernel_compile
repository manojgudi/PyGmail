#!/bin/bash

# Run this script with super user privileges since it requires it to read *credentials* file containing sensitive information
# remove report file
rm report_file

echo "Current Directory ->"
echo `pwd`
init_time=`date +%s`
make -j 2 > report_file 2>&1 # 2>&1 redirects stderr to stdout written to report_file
end_time=`date +%s`


diff=$(( $end_time-$init_time ))
echo "------------------------------------------------------------------------------------------------------------" >> report_file
echo "------------------------------------------------------------------------------------------------------------" >> report_file

echo "TIME TAKEN FOR EXECUTION IN SECONDS" >> report_file
echo $diff >> report_file
./sendmail -c credentials -t "recepient_address@gmail.com,recepient2@yahoo.com" -s "[Sub]: autogenerated_python_compiled_script_report" -b report_file
